/*! jQuery Prompt - v0.0.1 - 2013-02-02
* https://github.com/jpillora/jquery.prompt
* Copyright (c) 2013 Jaime Pillora; Licensed MIT */
(function(){"use strict";var e,t,n,r,i,s,o,u;o="prompt",r="jqPrompt",n={top:"bottom",bottom:"top",left:"right",right:"left"},u={autoHidePrompt:!1,autoHideDelay:1e4,arrowShow:!0,arrowSize:5,arrowPosition:"top",color:"red",colors:{red:"#ee0101",green:"#33be40",black:"#393939",blue:"#00f"},showAnimation:"fadeIn",showDuration:200,hideAnimation:"fadeOut",hideDuration:600,gap:2},i=function(e){return $(document.createElement(e))},e=function(e){if($.isPlainObject(e))return $.extend(this,e)},e.prototype=u,s=function(e){var t,n;return e.is("[type=radio]")&&(n=e.parents("form:first").find("[type=radio]").filter(function(t,n){return $(n).attr("name")===e.attr("name")}),e=n.first()),t=e.prev(),t.is("span.styled,span.OBS_checkbox")&&(e=t),e},t=function(){function t(t,n,r){$.type(r)==="string"&&(r={color:r}),this.options=new e($.isPlainObject(r)?r:{}),this.elementType=t.attr("type"),this.originalElement=t,this.elem=s(t),this.elem.data(o,this),this.buildWrapper(),this.buildPrompt(),this.wrapper.append(this.prompt),this.buildContent(),this.prompt.append(this.content),this.prompt.data(o,this),this.elem.before(this.wrapper),this.prompt.css(this.calculateCSS()),this.run(n)}return t.prototype.buildArrow=function(){var e,t,s,o,u;s=this.options.arrowPosition,u=this.options.arrowSize,e=n[s],this.arrow=i("div"),this.arrow.addClass(r+"Arrow").css({"margin-top":2+(document.documentMode===5?u*-4:0),position:"relative","z-index":"2","margin-left":10,width:0,height:0}).css("border-"+e,u+"px solid "+this.getColor());for(t in n)t!==s&&t!==e&&this.arrow.css("border-"+t,u+"px solid transparent");return o=this.options.arrowShow&&this.elementType!=="radio",o?this.arrow.show():this.arrow.hide()},t.prototype.buildPrompt=function(){return this.prompt=i("div").addClass(r).hide().css({"z-index":"1",position:"absolute",cursor:"pointer"})},t.prototype.buildWrapper=function(){return this.wrapper=i("div").addClass(""+r+"Wrapper").css({"z-index":"1",position:"absolute",display:"inline-block",height:0,width:0})},t.prototype.buildContent=function(){return this.content=i("div").addClass(""+r+"Content").css({background:"#fff",position:"relative","font-size":"11px","box-shadow":"0 0 6px #000","-moz-box-shadow":"0 0 6px #000","-webkit-box-shadow":"0 0 6px #000",padding:"4px 10px 4px 8px","border-radius":"6px","border-style":"solid","border-width":"2px","-moz-border-radius":"6px","-webkit-border-radius":"6px","white-space":"nowrap"})},t.prototype.showPrompt=function(e){var t;t=this.prompt.parent().parents(":hidden").length>0,t&&e&&this.prompt.show(),t&&!e&&this.prompt.hide(),!t&&e&&this.prompt[this.options.showAnimation](this.options.showDuration);if(!t&&!e)return this.prompt[this.options.hideAnimation](this.options.hideDuration)},t.prototype.calculateCSS=function(){var e,t,n,r;return e=this.elem.position(),r=this.prompt.parent().position(),t=this.elem.outerHeight(),n=e.left-r.left,$.browser.msie||(t+=e.top-r.top),{top:t+this.options.gap,left:n}},t.prototype.getColor=function(){return this.options.colors[this.options.color]||this.options.color},t.prototype.run=function(e,t){var n;$.isPlainObject(t)?$.extend(this.options,t):$.type(t)==="string"&&(this.options.color=t);if(this.prompt&&!e){this.showPrompt(!1);return}if(!this.prompt&&!e)return;$.type(e)==="string"?this.content.html(e.replace("\n","<br/>")):this.content.empty().append(e),this.content.css({color:this.getColor(),"border-color":this.getColor()}),this.arrow&&this.arrow.remove(),this.buildArrow(),this.content.before(this.arrow),this.showPrompt(!0);if(this.options.autoHidePrompt)return clearTimeout(this.elem.data("promptTimer")),n=setTimeout(function(){return this.showPrompt(!1)},this.options.autoHideDelay),this.elem.data("promptTimer",n)},t}(),$(function(){return $(document).on("click","."+r,function(){var e;e=s($(this)).data(o);if(e!=null)return e.showPrompt(!1)})}),$[o]=function(e,t,n){return $(e)[o](t,n)},$[o].options=function(e){return $.extend(u,e)},$.fn[o]=function(e,n){return $(this).each(function(){var r;return r=s($(this)).data(o),r!=null?r.run(e,n):new t($(this),e,n)})}}).call(this);